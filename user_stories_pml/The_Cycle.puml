@startuml GameLauncher

title GameLauncher

class Client{
    + main(): void
}
Client-->GameLauncher: calls getIstance()

class GameLauncher{
    - static instance : GameLauncher
    - GameLauncher()
    +static getIstance(): GameLauncher
    + launch() : void
}

class MainMenu{
    +show() : void
}

GameLauncher-->MainMenu: launch

abstract class GameCreator{
    + createGame(): Game
}

class NewGameCreator{
    + createGame(): Game
}

class ContinueGameCreator{
    + createGame(): Game
}

GameCreator -down-> NewGameCreator
GameCreator -down-> ContinueGameCreator
GameCreator --> Game : create

abstract class Game{
    - GameState: gameState
}

class NewGame{}
class ContinueGame{}

class NewGame {}
class ContinueGame {}

Game <|-- NewGame
Game <|-- ContinueGame

class NewGameView {
    + render(): void
}
class SaveMenuView {
    + render(): void
}

NewGame --> NewGameView
ContinueGameCreator --> SaveMenuView

' ===== Singleton GameInstance =====
class GameInstance {
    - static instance: GameInstance
    - gameCreator: GameCreator
    + getInstance(): GameInstance
}

GameInstance --> GameCreator
GameInstance --> GameInstance

class MainMenuController{
    + handleSelection(option: String): void
}

MainMenu --> MainMenuController : user input
MainMenuController --> GameCreator : createGame()
MainMenuController --> GameView : render()

'Choose character job'
abstract class Character{
    - job: Job
    -baseStats: Stats
    -currentStats: Stats
    -position: Position
    +createCharacterSprite(): ImageView
    +takeDamage(int value): void
    +heal(int value): void
}

class Player extends Character{
    - xp: int
    - follower: Player
    - imgSprite: Image
    +notifyFollower(): void
    +subscribeToFollowed(): void
    +unsubscribeFromFollowed(): void
    +addXp(): void
    +takeDamage(int value): void
    +heal(int value): void
}
class Enemy extends Character{
    - imgSprite: Image
    +addXp(): void
    +takeDamage(int value): void
    +heal(int value): void
}

class CharacterSelectionView{
    +show(): void
    +createCard(Job job): void
    +selectCharacter(Job job,VBox card): void
}
class CharacterSelectionController{
    +onNewGameConfirmed(int players,boolean autoSave): void
    +goToCharacterSelection(): void
    +onCharacterSelected(Job job): void

}
enum Job{}
CharacterSelectionView-->CharacterSelectionController: user selects job
NewGameView-->CharacterSelectionView: selectJobs()
Player-->Job
@enduml